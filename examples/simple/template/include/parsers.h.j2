// automatically generated by the Flatt tool, do not modify

#pragma once

#include <stdint.h>

#include "packets.h"
#include "packets_generated.h"

namespace protocol
{
  template<typename Handler>
  inline void parse(const packet& pkt, Handler&& handler)
  {
    switch (pkt.id)
    {
{%- for packet in packets %}
      case protocol::packets::{{ packet.name_snake }}:
        {
          auto parsed = /* TODO: transform `packet.content` into `{{ packet.name }}` */;
          handler<{{ packet.name }}>(parsed);
        }
        break;

{%- endfor %}
    }
  }
} // namespace protocol
